/**
 * (c): IML, IFAK.
 *
 */
package org.opentcs.guing.components.dialogs;

import java.awt.Component;
import java.awt.Insets;
import javax.swing.JComponent;
import javax.swing.JDialog;
import javax.swing.JOptionPane;
import javax.swing.border.EmptyBorder;

/**
 * Ein Dialog, der einen Schließen-Button besitzt.
 *
 * @author Sebastian Naumann (ifak e.V. Magdeburg)
 */
public class CloseDialog
    extends JDialog {

  /**
   * Creates new form CloseDialog
   *
   * @param parent
   * @param content
   * @param modal
   * @param title
   */
  public CloseDialog(Component parent, boolean modal, JComponent content, String title) {
    super(JOptionPane.getFrameForComponent(parent), title, modal);
    wrapInitComponents();
    getContentPane().add(content, java.awt.BorderLayout.CENTER);
    content.setBorder(new EmptyBorder(new Insets(4, 4, 4, 4)));
    getRootPane().setDefaultButton(buttonClose);
    pack();
  }

  /**
   * Ruft die Methode #initComponents() auf, die durch den FormEditor auf
   * private gesetzt wurde. Unterklassen können #wrapInitComponents() aufrufen,
   * um an #initComponents() heranzukommen.
   */
  protected final void wrapInitComponents() {
    initComponents();
  }

  /**
   * This method is called from within the constructor to initialize the form.
   * WARNING: Do NOT modify this code. The content of this method is always
   * regenerated by the Form Editor.
   */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panelButton = new javax.swing.JPanel();
        buttonClose = new CancelButton();

        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                closeDialog(evt);
            }
        });

        buttonClose.setFont(buttonClose.getFont().deriveFont(buttonClose.getFont().getStyle() | java.awt.Font.BOLD));
        java.util.ResourceBundle bundle = java.util.ResourceBundle.getBundle("org/opentcs/guing/res/labels"); // NOI18N
        buttonClose.setText(bundle.getString("dialog.buttonClose.text")); // NOI18N
        buttonClose.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                buttonCloseActionPerformed(evt);
            }
        });
        panelButton.add(buttonClose);

        getContentPane().add(panelButton, java.awt.BorderLayout.SOUTH);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void buttonCloseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buttonCloseActionPerformed
      doClose();
    }//GEN-LAST:event_buttonCloseActionPerformed

  /**
   * Closes the dialog
   */
    private void closeDialog(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_closeDialog
      doClose();
    }//GEN-LAST:event_closeDialog

  /**
   * Schließt den Dialog.
   */
  protected void doClose() {
    setVisible(false);
    dispose();

  }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton buttonClose;
    private javax.swing.JPanel panelButton;
    // End of variables declaration//GEN-END:variables
}
